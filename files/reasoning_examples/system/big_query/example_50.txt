# [Question]: Can you find the census tracts in the 36047 area that are among the top 20 for the largest percentage increases in population from 2011 to 2018, are also among the top 20 for the largest absolute increases in median income during the same period, and had over 1,000 residents in each of those years?
# [Schema links]: [census_bureau_acs.censustract_2011_5yr.geo_id, census_bureau_acs.censustract_2011_5yr.total_pop, census_bureau_acs.censustract_2018_5yr.total_pop, census_bureau_acs.censustract_2018_5yr.geo_id, census_bureau_acs.censustract_2018_5yr.median_income, census_bureau_acs.censustract_2011_5yr.median_income]
# [Analysis]: Letâ€™s think step by step.
1. Identify the relevant columns: `geo_id`, `total_pop`, and `median_income` from both 2011 and 2018 census tables.
2. Filter census tracts in the 36047 area using `geo_id LIKE '36047%'`.
3. Calculate population percentage increase from 2011 to 2018: `((pop_2018 - pop_2011) / pop_2011) * 100`.
4. Filter for tracts with `total_pop > 1000` in both years and retain top 20 by population growth percentage.
5. Calculate absolute median income increase: `median_income_2018 - median_income_2011`.
6. Filter for tracts with `total_pop > 1000` in both years and retain top 20 by median income increase.
7. Join the two top 20 lists on `geo_id` to find common tracts meeting both criteria.
8. Select the `geo_id` of the intersecting tracts from both filtered result sets.
# [Sql]: WITH population_change AS (     SELECT          a.geo_id,          a.total_pop AS pop_2011,          b.total_pop AS pop_2018,          ((b.total_pop - a.total_pop) / a.total_pop) * 100 AS population_change_percentage     FROM          bigquery-public-data.census_bureau_acs.censustract_2011_5yr a     JOIN          bigquery-public-data.census_bureau_acs.censustract_2018_5yr b     ON          a.geo_id = b.geo_id     WHERE          a.total_pop > 1000          AND b.total_pop > 1000          AND a.geo_id LIKE '36047%'          AND b.geo_id LIKE '36047%'     ORDER BY          population_change_percentage DESC     LIMIT 20 ), acs_2018 AS (     SELECT          geo_id,          median_income AS median_income_2018     FROM          bigquery-public-data.census_bureau_acs.censustract_2018_5yr     WHERE          geo_id LIKE '36047%'          AND total_pop > 1000 ), acs_2011 AS (     SELECT          geo_id,          median_income AS median_income_2011     FROM          bigquery-public-data.census_bureau_acs.censustract_2011_5yr     WHERE          geo_id LIKE '36047%'          AND total_pop > 1000 ), acs_diff AS (     SELECT          a18.geo_id,          a18.median_income_2018,          a11.median_income_2011,          (a18.median_income_2018 - a11.median_income_2011) AS median_income_diff     FROM          acs_2018 a18     JOIN          acs_2011 a11     ON          a18.geo_id = a11.geo_id     WHERE          (a18.median_income_2018 - a11.median_income_2011) IS NOT NULL     ORDER BY          (a18.median_income_2018 - a11.median_income_2011) DESC     LIMIT 20 ), common_geoids AS (     SELECT population_change.geo_id     FROM population_change     JOIN acs_diff ON population_change.geo_id = acs_diff.geo_id ) SELECT geo_id FROM common_geoids;