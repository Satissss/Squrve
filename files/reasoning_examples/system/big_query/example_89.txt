# [Question]: Could you determine what percentage of users either did not uninstall our app within seven days or never uninstalled it after installing during August and September 2018?
# [Schema links]: ["analytics_153293282.user_pseudo_id", "analytics_153293282.event_date", "analytics_153293282.event_name"]
# [Analysis]: Letâ€™s think step by step.
1. Identify users who installed the app between August 1 and September 30, 2018, using the 'first_open' event and store their user_pseudo_id and formatted installation date.
2. Identify users who uninstalled the app during the same period using the 'app_remove' event and store their uninstall date.
3. Join installation data with uninstallation data on user_pseudo_id to track uninstall events, keeping all installers and including uninstall dates where available.
4. Calculate the number of days between installation and uninstallation for each user, resulting in days_to_uninstall (NULL if never uninstalled).
5. Count distinct users who either never uninstalled (days_to_uninstall IS NULL) or uninstalled after 7+ days (days_to_uninstall > 7).
6. Divide this count by the total distinct users in the installation cohort to compute the percentage.
7. Format the result as a single value representing the percentage of qualifying users.
# [Sql]: WITH --List of users who installed sept_cohort AS (   SELECT DISTINCT user_pseudo_id,   FORMAT_DATE('%Y-%m-%d', PARSE_DATE('%Y%m%d', event_date)) AS date_first_open,   FROM `firebase-public-project.analytics_153293282.events_*`   WHERE event_name = 'first_open'   AND _TABLE_SUFFIX BETWEEN '20180801' and '20180930' ), --Get the list of users who uninstalled uninstallers AS (   SELECT DISTINCT user_pseudo_id,   FORMAT_DATE('%Y-%m-%d', PARSE_DATE('%Y%m%d', event_date)) AS date_app_remove,   FROM `firebase-public-project.analytics_153293282.events_*`   WHERE event_name = 'app_remove'   AND _TABLE_SUFFIX BETWEEN '20180801' and '20180930' ), --Join the 2 tables and compute for # of days to uninstall joined AS (   SELECT a.*,   b.date_app_remove,   DATE_DIFF(DATE(b.date_app_remove), DATE(a.date_first_open), DAY) AS days_to_uninstall   FROM sept_cohort a   LEFT JOIN uninstallers b   ON a.user_pseudo_id = b.user_pseudo_id ) --Compute for the percentage SELECT COUNT(DISTINCT CASE WHEN days_to_uninstall > 7 OR days_to_uninstall IS NULL THEN user_pseudo_id END) / COUNT(DISTINCT user_pseudo_id) AS percent_users_7_days FROM joined